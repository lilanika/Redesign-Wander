<section>
  <!--toggle-->
  <input type="checkbox" id="check" checked>
  <label for="check">
    <i class="fa fa-bars " aria-hidden="hidden" id="btn"> </i>
    <i class=" toggle-icon" id="cancel"></i>
  </label>
  <!--sidebar-->
  <div class="sidebar">
    <header class="flexbox ">
      <h2><a href="/homepage"><i class="fas fa-wave-square header-name "></i></a></h2>
      <span class="tag-color"> Update {{place.name}} </span>
    </header>
    <div class="card-container">
      <div class="card-body column">
        <div class='favorite-place-list card-scrollbar'>
          <div class="list p p-smart">
            <h2>{{place.name}}</h2>
            <p class="secondary-div p">{{place.address}}</p>
            <div class="flexbox-evenly">
              <p class="secondary-div">{{place.tag}}</p>
              <p class="secondary-div">|</p>
              <div class="secondary-div">
                <i class="fas fa-star primary secondary-div"></i>
                <span class="secondary-div">{{place.rating}}</span>
              </div>
            </div>
          </div>
          {{#with place}}
            <form class="form" action="/favoritesPlaces/{{_id}}/edit" method="POST">
              <!-- Stars  -->
              <div class="list" style="padding: 1.5rem;">
                <div style="display: flex; gap: 8px;">
                  <label style="cursor: pointer;">
                    <input type="radio" name="rating" value="1" {{#if (eq rating 1)}}checked{{/if}}
                      style="display: none;">
                    <i class="fas fa-star rating-star {{#if (gte rating 1)}}active{{/if}}"></i>
                  </label>
                  <label style="cursor: pointer;">
                    <input type="radio" name="rating" value="2" {{#if (eq rating 2)}}checked{{/if}}
                      style="display: none;">
                    <i class="fas fa-star rating-star {{#if (gte rating 2)}}active{{/if}}"></i>
                  </label>
                  <label style="cursor: pointer;">
                    <input type="radio" name="rating" value="3" {{#if (eq rating 3)}}checked{{/if}}
                      style="display: none;">
                    <i class="fas fa-star rating-star {{#if (gte rating 3)}}active{{/if}}"></i>
                  </label>
                  <label style="cursor: pointer;">
                    <input type="radio" name="rating" value="4" {{#if (eq rating 4)}}checked{{/if}}
                      style="display: none;">
                    <i class="fas fa-star rating-star {{#if (gte rating 4)}}active{{/if}}"></i>
                  </label>
                  <label style="cursor: pointer;">
                    <input type="radio" name="rating" value="5" {{#if (eq rating 5)}}checked{{/if}}
                      style="display: none;">
                    <i class="fas fa-star rating-star {{#if (gte rating 5)}}active{{/if}}"></i>
                  </label>
                </div>
              </div>
              <div class="list" style="padding: 1.5rem;">
                <div style="display: flex; flex-wrap: wrap; gap: 8px;">
                  <label class="tag-pill">
                    <input type="radio" name="tag" value="Food" {{#if (eq tag 'Food' )}}checked{{/if}}>
                    <span>üçï Food</span>
                  </label>
                  <label class="tag-pill">
                    <input type="radio" name="tag" value="Cafe" {{#if (eq tag 'Cafe' )}}checked{{/if}}>
                    <span>‚òï Cafe</span>
                  </label>
                  <label class="tag-pill">
                    <input type="radio" name="tag" value="Park" {{#if (eq tag 'Park' )}}checked{{/if}}>
                    <span>üå≥ Park</span>
                  </label>
                  <label class="tag-pill">
                    <input type="radio" name="tag" value="Sports" {{#if (eq tag 'Sports' )}}checked{{/if}}>
                    <span>‚öΩ Sports</span>
                  </label>
                  <label class="tag-pill">
                    <input type="radio" name="tag" value="Culture" {{#if (eq tag 'Culture' )}}checked{{/if}}>
                    <span>üé≠ Culture</span>
                  </label>
                  <label class="tag-pill">
                    <input type="radio" name="tag" value="Club" {{#if (eq tag 'Club' )}}checked{{/if}}>
                    <span>üéµ Club</span>
                  </label>
                  <label class="tag-pill">
                    <input type="radio" name="tag" value="Overnight" {{#if (eq tag 'Overnight' )}}checked{{/if}}>
                    <span>üè® Overnight</span>
                  </label>
                </div>
              </div>
              <!-- Notes -->
              <textarea class="list" name="description" id="description"
                placeholder="notes on this spot">{{description}}</textarea>
              <!-- Tags -->
              <!-- Save Button -->
              <button class="btn btn-primary my-2" type="submit"
                style="width: 90%; margin: 1rem auto; display: block; padding: 12px; font-size: 15px; font-weight: 600;">
                Save Changes
              </button>
            </form>
          {{/with}}
        </div>
      </div>
    </div>
    <footer class="footer">
      <div class="footer-container flexbox-between">
        <div>
          <a class="nav" href="/favoritesPlaces">
            <i class="fa fa-bars nav-btn fa-2x"></i>
          </a>
        </div>
        <div class="border"></div>
        <div>
          <input type="checkbox" id="check" checked />
          <label for="check">
            <i class="nav-btn fas fa-map-marked-alt fa-2x toggle-nav"></i>
          </label>
        </div>
        <div class="border"></div>
        <div>
          <a class="nav" href="/logout">
            <i class="nav-btn fas fa-sign-out-alt fa-2x"></i>
          </a>
        </div>
      </div>
    </footer>
  </div>
</section>
<script>
  // Update star colors when clicked
  document.querySelectorAll('.rating-star').forEach((star, index) => {
    star.parentElement.addEventListener('click', function () {
      const rating = index + 1;

      // Update all stars
      document.querySelectorAll('.rating-star').forEach((s, i) => {
        if (i < rating) {
          s.classList.add('active');
        } else {
          s.classList.remove('active');
        }
      });
    });
  });
</script>